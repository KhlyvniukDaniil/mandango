<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Mandango - Билет в кино для Мачо</title>
  <script>
    let seats = [false, true, false, true, true, true, false, true, false];
    let selSeat = -1;
	  /* Функция initSeats() выполняет инициализацию мест, циклически сопоставляя массив 
	  seats с изображениями кресел 	*/
    function initSeats() {
      // Задаем вид кресел
      for (let i = 0; i < seats.length; i++) {
        if (seats[i]) {
          // Вид свободных кресел
          document.getElementById("seat" + i).src = "seat_avail.png";
          document.getElementById("seat" + i).alt = "Место свободно";
        }
        else {
          // Вид занятых кресел
          document.getElementById("seat" + i).src = "seat_unavail.png";
          document.getElementById("seat" + i).alt = "Место занято";
        }
      }
    }
    /* Функция findSeat() должна искать незанятые кресла и предлагать их пользователю, 
	  который может как подтвердить бронь, так и вернуться к дальнейшему поиску */
	  function findSeat() {
      // Если место уже выбрано, произведите повторную инициализацию
      if (selSeat >= 0) {
        selSeat = -1;
        initSeats();
      }
      // Поиск свободного места среди всех возможных
      for (let i = 0; i < seats.length; i++) {
        // Проверка доступности рассматриваемого в данный момент кресла
        if (seats[i]) {
          // Выделяет кресло и обновляет его вид
          selSeat = i;
          document.getElementById("seat" + i).src = "seat_select.png";
          document.getElementById("seat" + i).alt = "Ваше место";
          // Пользователю предлагаеся принять предложенный вариант
          let accept = confirm("Место " + (i + 1) + " свободно. Принять?");
          if (!accept) {
            // Пользователь отказался, продолжаем поиск
            selSeat = -1;
            document.getElementById("seat" + i).src = "seat_avail.png";
            document.getElementById("seat" + i).alt = "Место свободно";
          }
        }
      }
    }
  </script>
</head> 
<body onload="initSeats();">
<div class="nav">
	<a href="index.html">example</a>
	<a href="man2.html">task 2</a>
	<a href="man3.html">task 3</a>
	<a href="man4.html">task 4</a>
</div>
  <div style="margin-top:75px; text-align:center">
      <img id="seat0" src="" alt="">
      <img id="seat1" src="" alt="">
      <img id="seat2" src="" alt="">
      <img id="seat3" src="" alt="">
      <img id="seat4" src="" alt="">
      <img id="seat5" src="" alt="">
      <img id="seat6" src="" alt="">
      <img id="seat7" src="" alt="">
      <img id="seat8" src="" alt=""><br>
      <input type="button" id="findseat" value="Найти место" onclick="findSeat();">
  </div>
</body>
</html>